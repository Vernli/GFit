(()=>{"use strict";class e{months=["January","February","March","April","May","June","July","August","September","October","November","December"];date=new Date;todayDate=new Date;constructor(e){this.instance=e,this.dateInput=this.instance.querySelector("input[type='date']"),this.instance.querySelector(".days").addEventListener("click",this.changeActiveDate.bind(this)),this.instance.querySelector(".prev-month").addEventListener("click",this.setPreviousMonth.bind(this)),this.instance.querySelector(".next-month").addEventListener("click",this.setNextMonth.bind(this)),this.instance.querySelector(".days").addEventListener("click",this.updateDateInput.bind(this))}static setTodayDate(){const e=new Date;document.querySelectorAll("input[type='date']").forEach((t=>{t.value=`${e.getFullYear()}-${e.getMonth()<=9?"0"+(e.getMonth()+1):e.getMonth()+1}-${e.getDate()<=9?"0"+e.getDate():e.getDate()}`}))}isDate(e){return e.contains("current-date")||e.contains("prev-date")||e.contains("next-date")}isValidDate(e){e<this.todayDate.toISOString().split("T")[0]&&this.showDateAlert()}setPreviousMonth(){this.date.setMonth(this.date.getMonth()-1),this.renderCalendar()}setNextMonth(){this.date.setMonth(this.date.getMonth()+1),this.renderCalendar()}showDateAlert(){const e=this.instance.querySelector(".alert");e.classList.remove("hidden"),setTimeout((()=>e.classList.add("hidden")),3e3)}changeActiveDate(e){const t=e.target.classList;if(console.log(e.target),this.isDate(t)){const e=this.instance.querySelector(".active-date");null===e||e.classList.remove("active-date"),t.add("active-date")}}updateDateInput(e){let t=this.instance.querySelector(".date h1").innerText.toLowerCase();const n=e.target.classList;this.isDate(n)&&(n.contains("prev-date")?(t=this.months.indexOf(t.charAt(0).toUpperCase()+t.slice(1)).toString(),this.dateInput.value=`${this.date.getFullYear()}-${t.length<=1?"0"+t:t}-${e.target.innerText}`):n.contains("next-date")?(t=(this.months.indexOf(t.charAt(0).toUpperCase()+t.slice(1))+2).toString(),this.dateInput.value=`${this.date.getFullYear()}-${t.length<=1?"0"+t:t}-${"0"+e.target.innerText}`):(t=(this.months.indexOf(t.charAt(0).toUpperCase()+t.slice(1))+1).toString(),this.dateInput.value=`${this.date.getFullYear()}-${t.length<=1?"0"+t:t}-${e.target.innerText.length<=1?"0"+e.target.innerText:e.target.innerText}`),this.isValidDate(this.dateInput.value))}renderCalendar(){this.date.setDate(1);const e=this.instance.querySelector(".days"),t=new Date(this.date.getFullYear(),this.date.getMonth()+1,0).getDate(),n=new Date(this.date.getFullYear(),this.date.getMonth(),0).getDate(),a=this.date.getDay(),s=7-new Date(this.date.getFullYear(),this.date.getMonth()+1,0).getDay()-1;this.instance.querySelector(".date h1").innerHTML=this.months[this.date.getMonth()],this.instance.querySelector(".date p").innerHTML=(new Date).toDateString();let i="";for(let e=a;e>0;e--)i+=`<div class="prev-date">${n-e+1}</div>`;for(let e=1;e<=t;e++)i+=`<div class="current-date">${e}</div>`;for(let t=1;t<=s;t++)i+=`<div class="next-date">${t}</div>`,e.innerHTML=i}}const t=document.getElementById("menu-btn"),n=document.getElementById("loginBtn"),a=document.getElementById("login"),s=document.getElementById("loginSubmitBtn"),i=document.getElementById("menu"),r=document.querySelectorAll(".video"),c=document.getElementById("prev"),l=document.getElementById("next");let d=0;function o(e){const t=e.target.id;switch(d){case 0:r[d].classList.toggle("hidden"),d="next"===t?1:3,r[d].classList.toggle("hidden");break;case 1:r[d].classList.toggle("hidden"),d="next"===t?2:0,r[d].classList.toggle("hidden");break;case 2:r[d].classList.toggle("hidden"),d="next"===t?3:1,r[d].classList.toggle("hidden");break;case 3:r[d].classList.toggle("hidden"),d="next"===t?0:2,r[d].classList.toggle("hidden")}}function h(e,t,n){this.price=e.toUpperCase(),this.freeze=t.toUpperCase(),this.vip=n.toUpperCase()}function u(e,t){const n=t.querySelector(".benefits");n.children[0].innerHTML=`Opłata wpisowa: <span class='font-bold'>${e.price}</span>`,n.children[1].innerHTML='Nielimitowany dostęp 24H: <span class="font-bold">TAK</span>',n.children[2].innerHTML='Zajęcia grupowe w cenie: <span class="font-bold">TAK</span>',n.children[3].innerHTML=`Możliwość zamrożenia karnetu: <span class="font-bold">${e.freeze}</span>`,n.children[4].innerHTML=`Strefa VIP: <span class="font-bold">${e.vip}</span>`}function g(e){const t=e.target.options[e.target.selectedIndex].value,n=e.target.parentElement.parentElement.parentElement,a=e.target.parentElement.parentElement.querySelector(".price"),s=e.target.id;switch(t){case"k24h":"select-open"===s?(a.innerText="34.99 PLN",u(new h("Nie","Nie","Nie"),n)):"select-pro"===s&&(a.innerText="69.99 PLN",u(new h("Nie","Nie","Tak"),n));break;case"k7d":"select-open"===s?(a.innerText="79.99 PLN",u(new h("Nie","Nie","Nie"),n)):"select-pro"===s&&(a.innerText="129.99 PLN",u(new h("Nie","Nie","Tak"),n));break;case"k1m":"select-open"===s?(a.innerText="99.99 PLN",u(new h("21.99 PLN","Nie","Nie"),n)):"select-pro"===s&&(a.innerText="259.99 PLN",u(new h("99.99 PLN","Tak","Tak"),n));break;case"k6m":"select-open"===s?(a.innerText="479.99 PLN",u(new h("21.99 PLN","Tak","Nie"),n)):"select-pro"===s&&(a.innerText="879.99 PLN",u(new h("99.99 PLN","Tak","Tak"),n));break;case"k12m":"select-open"===s?(a.innerText="899.99 PLN",u(new h("21.99 PLN","Tak","Nie"),n)):"select-pro"===s&&(a.innerText="1279.99 PLN",u(new h("99.99 PLN","Tak","Tak"),n))}}n.addEventListener("click",(()=>{a.classList.remove("hidden")})),a.addEventListener("click",(e=>{"close"===e.target.id&&(a.classList.add("hidden"),e.target.parentElement.parentElement.querySelector('input[type="email"]').value="",e.target.parentElement.parentElement.querySelector('input[type="password"]').value="")})),s.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector('input[type="email"]'),n=document.querySelector('input[type="password"]');t.classList.add("invalid"),n.classList.add("invalid"),setTimeout((()=>{t.classList.remove("invalid"),n.classList.remove("invalid")}),1e3)})),window.addEventListener("scroll",(function(){const e=document.getElementById("offers"),t=window.innerHeight;e.getBoundingClientRect().top<t-200?e.classList.add("show"):e.classList.remove("show")})),document.querySelector("#select-open").addEventListener("change",g),document.querySelector("#select-pro").addEventListener("change",g),t.addEventListener("click",(function(){t.classList.toggle("open"),i.classList.toggle("flex"),i.classList.toggle("hidden")})),c.addEventListener("click",o),l.addEventListener("click",o),function(){const t=new e(document.getElementById("offer-one")),n=new e(document.getElementById("offer-two"));e.setTodayDate(),t.renderCalendar(),n.renderCalendar()}()})();